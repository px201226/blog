---
layout: post
title: "λ””μμΈ ν¨ν„΄ - ν–‰λ™ ν¨ν„΄"
tags: 
 - λ””μμΈ ν¨ν„΄
lang: ko-KR
date: 2022-04-02
update: 2022-04-02
---

## λ””μμΈ ν¨ν„΄- ν–‰λ™ ν¨ν„΄

- μ–΄λ–¤ μ²λ¦¬μ μ±…μ„μ„ μ–΄λ κ°μ²΄μ— ν• λ‹Ήν•λ” κ²ƒμ΄ μΆ‹μ€μ§€, μ•κ³ λ¦¬μ¦μ€ μ–΄λ κ°μ²΄μ— μ •μν•λ” κ²ƒμ΄ μΆ‹μ€μ§€ λ‹¤λ£Ήλ‹λ‹¤.
- κ°μ²΄λ“¤ κ°„μ κµλ¥ λ°©λ²•μ— λ€ν•μ—¬ μ •μν•λ‹¤.
- **ν–‰λ™ ν΄λμ¤ ν¨ν„΄** μ€ ν΄λμ¤ μ‚¬μ΄μ— ν–‰λ™ μ±…μ„μ„ λ¶„μ‚°ν•κΈ° μ„ν•΄μ„ μƒμ†μ„ μ‚¬μ©ν•©λ‹λ‹¤.
- **ν–‰λ™ κ°μ²΄ ν¨ν„΄** μ€ μƒμ†λ³΄λ‹¤λ” λ³µν•©μ„ ν†µν•΄μ„ κ°μ²΄ μ‚¬μ΄μ— ν–‰λ™μ²λ¦¬μ μ±…μ„μ„ λ¶„μ‚°ν•©λ‹λ‹¤.


<!-- more -->

## μ „λµ ν¨ν„΄

![Untitled](img/img.png)

- μ „λµ ν¨ν„΄(Strategy Pattern)μ€ μ•κ³ λ¦¬μ¦κµ°μ„ μ •μν•κ³  μΊ΅μν™”ν•΄μ„ κ°κ°μ μ•κ³ λ¦¬μ¦κµ°μ„ μμ •ν•΄μ„ μ“Έ μ μκ² ν•΄μ¤€λ‹¤.
- μ „λµ ν¨ν„΄μ„ μ‚¬μ©ν•λ©΄ ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° μ•κ³ λ¦¬μ¦μ„ λ¶„λ¦¬ν•΄μ„ λ…λ¦½μ μΌλ΅ λ³€κ²½ν•  μ μλ‹¤.

### λ””μμΈ μ›μΉ™

- μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ‹¬λΌμ§€λ” λ¶€λ¶„μ„ μ°Ύμ•„λ‚΄κ³  λ‹¬λΌμ§€μ§€ μ•λ” λ¶€λ¶„κ³Ό λ¶„λ¦¬ν•λ‹¤.
    - λ‹¬λΌμ§€λ” λ¶€λ¶„μ„ μ°Ύμ•„μ„ λ‚λ¨Έμ§€ μ½”λ“μ— μν–¥μ„ μ£Όμ§€ μ•λ„λ΅ μΊ΅μν™”ν•λ‹¤.
    - Context λ‹¬λΌμ§€μ§€ μ•λ” λ¶€λ¶„, Strategy λ‹¬λΌμ§€λ” λ¶€λ¶„γ…”
- κµ¬ν„λ³΄λ‹¤λ” μΈν„°νμ΄μ¤ λ§μ¶°μ„ ν”„λ΅κ·Έλλ° ν•λ‹¤.
    - Contextμ ν–‰λ™μ€ μΈν„°νμ΄μ¤λ΅ μ •μλμ–΄ κµ¬μ²΄μ μΌλ΅ κµ¬ν„ν•μ§€ μ•λ”λ‹¤.
- μƒμ†λ³΄λ‹¤λ” κµ¬μ„±μ„ ν™μ©ν•λ‹¤.
    - μ „λµ ν¨ν„΄μ„ μ“°μ§€ μ•λ”λ‹¤λ©΄ μƒμ†μ„ ν†µν•΄ μ„λΈ ν΄λμ¤μ—μ„ λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ”© ν•μ—¬ ν–‰λ™μ„ λ°”κΏ€ μ μλ‹¤.
    - Super ν΄λμ¤μ— μμ΅΄μ„±μ΄ λ°μƒν•κ³  ν•„μ”ν•μ§€ μ•μ€ λ¶€λ¶„λ„ μƒμ†ν•΄μ•Ό λλ” λ¬Έμ μ μ΄ μλ‹¤.
    - κµ¬μ„±(Composition)μ„ ν™μ©ν•λ©΄ μ‹μ¤ν…μ μ μ—°μ„±μ„ ν¬κ² ν–¥μƒμ‹ν‚¬ μ μλ‹¤.
    - μ•κ³ λ¦¬μ¦κµ°μ„ λ³„λ„μ ν΄λμ¤ μ§‘ν•©μΌλ΅ μΊ΅μν™”ν•  μ μμΌλ©° κµ¬μ„± μ”μ†λ΅ μ‚¬μ©ν•λ” κ°μ²΄μ—μ„ μ¬λ°”λ¥Έ ν–‰λ™ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•κΈ°λ§ ν•λ©΄ μ‹¤ν–‰ μ‹μ— ν–‰λ™μ„ λ°”κΏ€ μ μλ‹¤.

## μµμ €λ²„ ν¨ν„΄

- μµμ €λ²„ ν¨ν„΄(Observer Pattern)μ€ ν• κ°μ²΄μ μƒνƒκ°€ λ°”λ€λ©΄ κ·Έ κ°μ²΄μ— μμ΅΄ν•λ” λ‹¤λ¥Έ κ°μ²΄μ—κ² μ—°λ½μ΄ κ°€κ³  μλ™μΌλ΅ λ‚΄μ©μ΄ κ°±μ‹ λλ” λ°©μ‹μΌλ΅ μΌλ€λ‹¤(One To Many) μμ΅΄μ„±μ„ μ •μν•©λ‹λ‹¤.

![Untitled](img/img_1.png)

- Publish-Subscribe ν¨ν„΄κ³Όλ” λ‹¤λ¥΄λ‹¤. Publish-Subscribe ν¨ν„΄μ€ κµ¬λ…μκ°€ μ„λ΅ λ‹¤λ¥Έ μ ν•μ λ©”μ‹μ§€μ— κ΄€μ‹¬μ„ κ°€μ§ μ μκ³  μ¶νμ‚¬μ™€ κµ¬λ…μκ°€ λ” μ„Έμ„Έν•κ² λ¶„λ¦¬ν•  μ μλ” λ³µμ΅ν• ν¨ν„΄μ΄λ‹¤.

### λμ¨ν• κ²°ν•©μ μ„λ ¥

- λμ¨ν• κ²°ν•©(Loose Coupling)μ€ κ°μ²΄λ“¤μ΄ μƒνΈμ‘μ©ν•  μλ” μμ§€λ§, μ„λ΅λ¥Ό μ λ¨λ¥΄λ” κ΄€κ³„λ¥Ό μλ―Έν•λ‹¤.
- μ£Όμ (Subject)ν΄λμ¤λ” μµμ €λ²„κ°€ νΉμ • μΈν„°νμ΄μ¤(Observer μΈν„°νμ΄μ¤)λ¥Ό κµ¬ν„ν•λ‹¤λ” μ‚¬μ‹¤λ§ μ•λ‹¤.
  - μµμ €λ²„μ κµ¬μƒ ν΄λμ¤κ°€ λ¬΄μ—‡μΈμ§€, μµμ €λ²„κ°€ λ¬΄μ—‡μ„ ν•λ”μ§€λ” μ• ν•„μ”κ°€ μ—…μ‚³.
- μµμ €λ²„λ” μ–Έμ λ“ μ§€ μƒλ΅ μ¶”κ°€ν•  μ μλ‹¤.
  - μ£Όμ λ” Observer μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•λ―€λ΅ μ–Έμ λ“ μ§€ μƒλ΅μ΄ μµμ €λ²„λ¥Ό μ¶”κ°€ν•  μ μλ‹¤.
- μƒλ΅μ΄ ν•μ‹μ μµμ €λ²„λ¥Ό μ¶”κ°€ν•  λ•λ„ λ³€κ²½ν•  ν•„μ”κ°€ μ—†λ‹¤.
  - μµμ €λ²„μ κµ¬μƒ ν΄λμ¤κ°€ μƒλ΅ μƒκΈ°λ”λΌλ„ μ£Όμ  ν΄λμ¤λ” κ·Έκ²ƒμ„ μ‹ κ²½ μ“Έ ν•„μ”κ°€ μ—†λ‹¤. Observer μΈν„°νμ΄μ¤λ§ κµ¬ν„ν•λ‹¤λ©΄ μ–΄λ–¤ κ°μ²΄μ™€λ„ μƒνΈμ‘μ©μ΄ κ°€λ¥ν•λ‹¤.
- μ£Όμ μ™€ μµμ €λ²„λ” μ„λ΅ λ…λ¦½μ μΌλ΅ μ¬μ‚¬μ©ν•  μ μλ‹¤.
  - λ‘μ΄ μ„λ΅ λ‹¨λ‹¨ν•κ² κ²°ν•©λμ§€ μ•κΈ° λ•λ¬Έμ΄λ‹¤.
- μ£Όμ λ‚ μ—…μ €λ²„κ°€ λ‹¬λΌμ Έλ„ μ„λ΅μ—κ² μν–¥μ„ λ―ΈμΉμ§€ μ•λ”λ‹¤.
  - κµ¬ν„μ— μμ΅΄ν•μ§€ μ•κ³  μΈν„°νμ΄μ¤ μμ΅΄ν•κΈ° λ•λ¬Έμ΄λ‹¤.

<aside>
π’΅ λ””μμΈ μ›μΉ™   
μƒνΈμ‘μ©ν•λ” κ°μ²΄ μ‚¬μ΄μ—λ” κ°€λ¥ν•λ©΄ λμ¨ν• κ²°ν•©μ„ μ‚¬μ©ν•λ‹¤.

</aside>

### ν‘Έμ‹ λ°©μ‹μ—μ„ ν’€ λ°©μ‹μΌλ΅ λ°”κΎΈκΈ°

- μ£Όμ κ°€ μµμ €λ²„μ—κ² μƒνƒλ¥Ό μ•λ¦¬λ” λ°©μ‹(ν‘Έμ‹)λ” Observerμ `update()` λ©”μ„λ“μ νλΌλ―Έν„°κ°€ λ³€κ²½λλ‹¤λ©΄ λ¨λ“  κµ¬μƒ μµμ €λ²„ ν΄λμ¤μ λ³€κ²½μ΄ λ°μƒν•λ‹¤.
- μµμ €λ²„κ°€ μ£Όμ λ΅λ¶€ν„° μƒνƒλ¥Ό λμ–΄μ¤λ” λ°©μ‹(ν’€)λ΅ λ°”κΎΌλ‹¤λ©΄ μµμ €λ²„κ°€ ν•„μ”ν• λ°μ΄ν„°λ¥Ό κ³¨λΌμ„ κ°€μ Έμ¬ μ μκ³  μ‰½κ² ν™•μ¥ν•  μ μλ‹¤.

#### μ£Όμ μ—μ„ μ•λ¦Ό λ³΄λ‚΄κΈ°

- μµμ €λ²„μ update λ©”μ„λ“λ¥Ό μΈμμ—†μ΄ νΈμ¶ν•λ„λ΅ μ£Όμ  ν΄λμ¤μ `notifyObservers()` λ©”μ„λ“λ¥Ό μμ •ν•λ‹¤.

```java
public void nofifyObservers(){
	for (Observer observer : observers) {
		observer.update() // νλΌλ―Έν„° μ—†μ΄ νΈμ¶
	}
}
```

#### μµμ €λ²„μ—μ„ μ•λ¦Ό λ°›κΈ°

- Observer μΈν„°νμ΄μ¤μ—μ„ update() λ©”μ„λ“μ λ§¤κ°λ³€μ μ κ±°

```java
public interface Observer {
	void update();
}
```

- Concreate Observer ν΄λμ¤μ update λ©”μ„λ“λ¥Ό μ£Όμ μ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤λ„λ΅ μμ •

```java
public void update(){
	this.temperature = weatherData.getTeperature();
	this.humidity = weaterData.getHumidity();
	display();
}
```

### λ””μμΈ μ›μΉ™

- μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ‹¬λ¦¬μ§€λ” λ¶€λ¶„μ„ μ°Ύμ•„λ‚΄κ³  λ‹¬λΌμ§€μ§€ μ•λ” λ¶€λΈκ³Ό λ¶„λ¦¬ν•λ‹¤.
  - μµμ €λ²„ ν¨ν„΄μ—μ„ λ³€ν•λ” κ²ƒμ€ μ£Όμ μ μƒνƒμ™€ μµμ €λ²„μ κ°μμ™€ ν•μ‹μ΄λ‹¤.
  - μ£Όμ λ¥Ό λ°”κΎΈμ§€ μ•κ³ λ„ μ£Όμ μ μƒνƒμ— μμ΅΄ν•λ” κ°μ²΄λ“¤μ„ λ°”κΏ€ μ μμ
- κµ¬ν„λ³΄λ‹¤λ” μΈν„°νμ΄μ¤μ— λ§μ¶°μ„ ν”„λ΅κ·Έλλ° ν•λ‹¤.
  - μ£Όμ λ” Subject μΈν„°νμ΄μ¤λ΅ Observer μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” κ°μ²΄λ“¤μ λ“±λ΅κ³Ό νƒν‡΄λ¥Ό κ΄€λ¦¬ν•κ³  κ·Έλ° κ°μ²΄λ“¤μ—κ² μƒνƒλ¥Ό μ•λ¦°λ‹¤.
- μƒμ†λ³΄λ‹¤λ” κµ¬μ„±μ„ μ‚¬μ©ν•λ‹¤.
  - μ£Όμ μ™€ μµμ €λ²„ μ‚¬μ΄μ κ΄€κ³„λ” μƒμ†μ΄ μ•„λ‹λΌ κµ¬μ„±μΌλ΅ μ΄λ£¨μ–΄μ§„λ‹¤.